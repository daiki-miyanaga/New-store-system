<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>発注修正シミュレーション</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            font-size: 1.5rem;
        }
        
        .back-btn {
            background: #3498db;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
        }
        
        .back-btn:hover {
            background: #2980b9;
        }
        
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .simulation-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .form-section {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 2rem;
        }
        
        .form-section h2 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 1rem;
        }
        
        .form-group label {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .form-group input,
        .form-group select {
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .order-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .order-table th,
        .order-table td {
            padding: 0.75rem;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .order-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .order-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .order-input {
            width: 80px;
            padding: 0.3rem;
            border: 1px solid #3498db;
            border-radius: 4px;
            text-align: center;
        }
        
        .current-order {
            background-color: #e8f5e8;
        }
        
        .modified-order {
            background-color: #fff3cd;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            margin-right: 1rem;
            margin-bottom: 1rem;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #219a52;
        }
        
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background: #d68910;
        }
        
        .simulation-results {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-top: 2rem;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .result-card {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 6px;
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .result-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .result-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 0.5rem;
        }
        
        .change-positive {
            color: #27ae60;
        }
        
        .change-negative {
            color: #e74c3c;
        }
        
        .scenario-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .tab-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }
        
        .tab-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }
        
        .alert {
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }
        
        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
        }
        
        .alert-info {
            background: #d1ecf1;
            border: 1px solid #17a2b8;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🔄 発注修正シミュレーション</h1>
        <a href="index.html" class="back-btn">← メインメニュー</a>
    </div>
    
    <div class="container">
        <div class="simulation-panel">
            <!-- 条件設定 -->
            <div class="form-section">
                <h2>⚙️ シミュレーション条件</h2>
                <div class="form-group">
                    <label>シミュレーション期間</label>
                    <select>
                        <option>1週間</option>
                        <option>2週間</option>
                        <option>1ヶ月</option>
                        <option>3ヶ月</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>基準日</label>
                    <input type="date" value="2024-01-15">
                </div>
                <div class="form-group">
                    <label>店舗</label>
                    <select>
                        <option>全店舗</option>
                        <option>本店</option>
                        <option>支店A</option>
                        <option>支店B</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>想定売上変動率（%）</label>
                    <input type="number" value="0" placeholder="±0">
                </div>
                <div class="form-group">
                    <label>季節要因</label>
                    <select>
                        <option>通常期</option>
                        <option>イベント期</option>
                        <option>閑散期</option>
                        <option>繁忙期</option>
                    </select>
                </div>
            </div>
            
            <!-- シナリオ選択 -->
            <div class="form-section">
                <h2>📋 シナリオ選択</h2>
                <div class="scenario-tabs">
                    <button class="tab-btn active">現在の発注</button>
                    <button class="tab-btn">最適化案A</button>
                    <button class="tab-btn">最適化案B</button>
                    <button class="tab-btn">カスタム</button>
                </div>
                
                <div class="alert alert-info">
                    <strong>現在のシナリオ:</strong> 過去4週間の平均に基づく標準発注パターン
                </div>
                
                <button class="btn btn-primary">📊 シミュレーション実行</button>
                <button class="btn btn-success">💾 シナリオ保存</button>
                <button class="btn btn-warning">🔄 リセット</button>
            </div>
        </div>
        
        <!-- 発注数量調整テーブル -->
        <div class="form-section">
            <h2>📦 発注数量調整</h2>
            <table class="order-table">
                <thead>
                    <tr>
                        <th>商品コード</th>
                        <th>商品名</th>
                        <th>現在発注数</th>
                        <th>修正発注数</th>
                        <th>差分</th>
                        <th>在庫日数</th>
                        <th>予想廃棄率</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>YS001</td>
                        <td>ショートケーキ</td>
                        <td class="current-order">30</td>
                        <td><input type="number" class="order-input" value="35"></td>
                        <td class="change-positive">+5</td>
                        <td>2.1日</td>
                        <td>5%</td>
                        <td><button class="btn btn-primary" style="padding: 0.3rem 0.6rem; font-size: 0.8rem;">適用</button></td>
                    </tr>
                    <tr>
                        <td>YS002</td>
                        <td>チーズケーキ</td>
                        <td class="current-order">20</td>
                        <td><input type="number" class="order-input" value="18"></td>
                        <td class="change-negative">-2</td>
                        <td>2.8日</td>
                        <td>3%</td>
                        <td><button class="btn btn-primary" style="padding: 0.3rem 0.6rem; font-size: 0.8rem;">適用</button></td>
                    </tr>
                    <tr>
                        <td>YS003</td>
                        <td>フルーツタルト</td>
                        <td class="current-order">15</td>
                        <td><input type="number" class="order-input" value="20"></td>
                        <td class="change-positive">+5</td>
                        <td>1.9日</td>
                        <td>8%</td>
                        <td><button class="btn btn-primary" style="padding: 0.3rem 0.6rem; font-size: 0.8rem;">適用</button></td>
                    </tr>
                    <tr>
                        <td>YS004</td>
                        <td>チョコレートケーキ</td>
                        <td class="current-order">25</td>
                        <td><input type="number" class="order-input" value="22"></td>
                        <td class="change-negative">-3</td>
                        <td>3.2日</td>
                        <td>4%</td>
                        <td><button class="btn btn-primary" style="padding: 0.3rem 0.6rem; font-size: 0.8rem;">適用</button></td>
                    </tr>
                    <tr>
                        <td>YS005</td>
                        <td>モンブラン</td>
                        <td class="current-order">12</td>
                        <td><input type="number" class="order-input" value="15"></td>
                        <td class="change-positive">+3</td>
                        <td>2.5日</td>
                        <td>6%</td>
                        <td><button class="btn btn-primary" style="padding: 0.3rem 0.6rem; font-size: 0.8rem;">適用</button></td>
                    </tr>
                </tbody>
            </table>
            
            <div class="alert alert-warning">
                <strong>注意:</strong> フルーツタルトの廃棄率が高くなる予想です。発注数量の再検討をお勧めします。
            </div>
        </div>
        
        <!-- シミュレーション結果 -->
        <div class="simulation-results">
            <h2>📈 シミュレーション結果</h2>
            <div class="results-grid">
                <div class="result-card">
                    <div class="result-value">¥2,450,000</div>
                    <div class="result-label">予想売上額</div>
                    <div class="change-positive">(+¥85,000)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">¥1,680,000</div>
                    <div class="result-label">仕入原価</div>
                    <div class="change-positive">(+¥32,000)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">¥770,000</div>
                    <div class="result-label">粗利益</div>
                    <div class="change-positive">(+¥53,000)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">31.4%</div>
                    <div class="result-label">粗利率</div>
                    <div class="change-positive">(+1.2%)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">¥95,000</div>
                    <div class="result-label">廃棄損失</div>
                    <div class="change-negative">(+¥12,000)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">5.7%</div>
                    <div class="result-label">廃棄率</div>
                    <div class="change-negative">(+0.3%)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">8</div>
                    <div class="result-label">品切れ回数</div>
                    <div class="change-negative">(-3回)</div>
                </div>
                <div class="result-card">
                    <div class="result-value">96.2%</div>
                    <div class="result-label">在庫充足率</div>
                    <div class="change-positive">(+2.1%)</div>
                </div>
            </div>
            
            <div style="margin-top: 2rem;">
                <h3>📊 詳細分析</h3>
                <div class="alert alert-info">
                    <strong>総合評価:</strong> 売上向上が見込まれますが、廃棄率の増加に注意が必要です。特にフルーツタルトの発注数量を再検討することで、さらなる利益改善が期待できます。
                </div>
            </div>
            
            <div style="margin-top: 1rem;">
                <button class="btn btn-success">✅ この発注で確定</button>
                <button class="btn btn-primary">📋 レポート出力</button>
                <button class="btn btn-warning">🔄 条件を変更</button>
            </div>
        </div>
    </div>
</body>
</html>